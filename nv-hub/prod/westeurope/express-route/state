{
  "version": 4,
  "terraform_version": "0.12.29",
  "serial": 65,
  "lineage": "a47598ea-294c-eda3-b1e7-da737b36b5b4",
  "outputs": {
    "labs_express_route_skey": {
      "value": "2f32d78a-2670-46a6-a81e-d6ed9ed8467c",
      "type": "string"
    }
  },
  "resources": [
    {
      "mode": "data",
      "type": "azurerm_key_vault",
      "name": "nv_hub_core",
      "provider": "provider.azurerm",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "access_policy": [
              {
                "application_id": "",
                "certificate_permissions": [
                  "Get",
                  "List",
                  "Update",
                  "Create",
                  "Import",
                  "Delete",
                  "Recover",
                  "Backup",
                  "Restore",
                  "ManageContacts",
                  "ManageIssuers",
                  "GetIssuers",
                  "ListIssuers",
                  "SetIssuers",
                  "DeleteIssuers"
                ],
                "key_permissions": [
                  "Get",
                  "List",
                  "Update",
                  "Create",
                  "Import",
                  "Delete",
                  "Recover",
                  "Backup",
                  "Restore"
                ],
                "object_id": "7d2c7582-8c8a-4bcb-a5c6-3d265b9333bd",
                "secret_permissions": [
                  "Get",
                  "List",
                  "Set",
                  "Delete",
                  "Recover",
                  "Backup",
                  "Restore"
                ],
                "storage_permissions": [],
                "tenant_id": "706c5db9-5278-483b-b622-70084f823a12"
              },
              {
                "application_id": "",
                "certificate_permissions": [
                  "Get",
                  "List",
                  "Update",
                  "Create",
                  "Import",
                  "Delete",
                  "Recover",
                  "ManageContacts",
                  "ManageIssuers",
                  "GetIssuers",
                  "ListIssuers",
                  "SetIssuers",
                  "DeleteIssuers"
                ],
                "key_permissions": [
                  "Get",
                  "List",
                  "Update",
                  "Create",
                  "Import",
                  "Delete",
                  "Recover",
                  "Restore",
                  "Backup"
                ],
                "object_id": "e9006970-432c-40ad-94c5-3c910496dfce",
                "secret_permissions": [
                  "Get",
                  "List",
                  "Set",
                  "Delete",
                  "Backup",
                  "Recover",
                  "Restore"
                ],
                "storage_permissions": [],
                "tenant_id": "706c5db9-5278-483b-b622-70084f823a12"
              },
              {
                "application_id": "",
                "certificate_permissions": [
                  "Get",
                  "List",
                  "Delete",
                  "Create",
                  "Import",
                  "Update",
                  "ManageContacts",
                  "GetIssuers",
                  "ListIssuers",
                  "SetIssuers",
                  "DeleteIssuers",
                  "ManageIssuers",
                  "Recover"
                ],
                "key_permissions": [
                  "Get",
                  "Create",
                  "Delete",
                  "List",
                  "Update",
                  "Import",
                  "Backup",
                  "Restore",
                  "Recover"
                ],
                "object_id": "50e4c26c-2bf0-4244-af96-c397265c7fbe",
                "secret_permissions": [
                  "Get",
                  "List",
                  "Set",
                  "Delete",
                  "Backup",
                  "Restore",
                  "Recover"
                ],
                "storage_permissions": [
                  "get",
                  "list",
                  "delete",
                  "set",
                  "update",
                  "regeneratekey",
                  "setsas",
                  "listsas",
                  "getsas",
                  "deletesas"
                ],
                "tenant_id": "706c5db9-5278-483b-b622-70084f823a12"
              }
            ],
            "enabled_for_deployment": false,
            "enabled_for_disk_encryption": false,
            "enabled_for_template_deployment": false,
            "id": "/subscriptions/4312dfc3-8ec3-49c4-b95e-90a248341dd5/resourceGroups/nv-hub-core/providers/Microsoft.KeyVault/vaults/nv-hub-core",
            "location": "westeurope",
            "name": "nv-hub-core",
            "network_acls": [],
            "resource_group_name": "nv-hub-core",
            "sku": [
              {
                "name": "standard"
              }
            ],
            "sku_name": "standard",
            "tags": {},
            "tenant_id": "706c5db9-5278-483b-b622-70084f823a12",
            "vault_uri": "https://nv-hub-core.vault.azure.net/"
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_express_route_circuit",
      "name": "main",
      "provider": "provider.azurerm",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allow_classic_operations": false,
            "bandwidth_in_mbps": 200,
            "id": "/subscriptions/4312dfc3-8ec3-49c4-b95e-90a248341dd5/resourceGroups/core_network/providers/Microsoft.Network/expressRouteCircuits/LabsExpressRoute",
            "location": "westeurope",
            "name": "LabsExpressRoute",
            "peering_location": "Amsterdam",
            "resource_group_name": "core_network",
            "service_key": "2f32d78a-2670-46a6-a81e-d6ed9ed8467c",
            "service_provider_name": "Telia Carrier",
            "service_provider_provisioning_state": "Provisioned",
            "sku": [
              {
                "family": "MeteredData",
                "tier": "Standard"
              }
            ],
            "tags": {
              "repo": "azure-env/nv-production/core_network"
            }
          },
          "private": "bnVsbA==",
          "dependencies": [
            "azurerm_resource_group.core_network"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_express_route_circuit_authorization",
      "name": "er-to-er-gw",
      "provider": "provider.azurerm",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "authorization_key": "e2d35e8a-4045-4ebc-bb3c-eba76815e21b",
            "authorization_use_status": "Available",
            "express_route_circuit_name": "LabsExpressRoute",
            "id": "/subscriptions/4312dfc3-8ec3-49c4-b95e-90a248341dd5/resourceGroups/core_network/providers/Microsoft.Network/expressRouteCircuits/LabsExpressRoute/authorizations/er-to-er-gw",
            "name": "er-to-er-gw",
            "resource_group_name": "core_network"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "azurerm_express_route_circuit.main",
            "azurerm_resource_group.core_network"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_public_ip",
      "name": "public-er-gw",
      "provider": "provider.azurerm",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allocation_method": "Dynamic",
            "domain_name_label": null,
            "fqdn": null,
            "id": "/subscriptions/4312dfc3-8ec3-49c4-b95e-90a248341dd5/resourceGroups/core_network/providers/Microsoft.Network/publicIPAddresses/public-er-gw",
            "idle_timeout_in_minutes": 4,
            "ip_address": "52.174.90.128",
            "ip_version": "IPv4",
            "location": "westeurope",
            "name": "public-er-gw",
            "public_ip_address_allocation": "Dynamic",
            "public_ip_prefix_id": null,
            "resource_group_name": "core_network",
            "reverse_fqdn": null,
            "sku": "Basic",
            "tags": {},
            "zones": []
          },
          "private": "bnVsbA==",
          "dependencies": [
            "azurerm_resource_group.core_network"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_virtual_network_gateway",
      "name": "nv-hub-er-gw",
      "provider": "provider.azurerm",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "active_active": false,
            "bgp_settings": [],
            "default_local_network_gateway_id": null,
            "enable_bgp": false,
            "id": "/subscriptions/4312dfc3-8ec3-49c4-b95e-90a248341dd5/resourceGroups/core_network/providers/Microsoft.Network/virtualNetworkGateways/nw-hub-er-gw",
            "ip_configuration": [
              {
                "name": "er-gw-config",
                "private_ip_address_allocation": "Dynamic",
                "public_ip_address_id": "/subscriptions/4312dfc3-8ec3-49c4-b95e-90a248341dd5/resourceGroups/core_network/providers/Microsoft.Network/publicIPAddresses/public-er-gw",
                "subnet_id": "/subscriptions/4312dfc3-8ec3-49c4-b95e-90a248341dd5/resourceGroups/core_network/providers/Microsoft.Network/virtualNetworks/core_vnet/subnets/GatewaySubnet"
              }
            ],
            "location": "westeurope",
            "name": "nw-hub-er-gw",
            "resource_group_name": "core_network",
            "sku": "Standard",
            "tags": {},
            "type": "ExpressRoute",
            "vpn_client_configuration": [],
            "vpn_type": "RouteBased"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "azurerm_public_ip.public-er-gw",
            "azurerm_resource_group.core_network",
            "azurerm_subnet.GatewaySubnet",
            "azurerm_virtual_network.core_vnet"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_virtual_network_gateway_connection",
      "name": "er-gw-to-er",
      "provider": "provider.azurerm",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "authorization_key": "e2d35e8a-4045-4ebc-bb3c-eba76815e21b",
            "enable_bgp": false,
            "express_route_circuit_id": "/subscriptions/4312dfc3-8ec3-49c4-b95e-90a248341dd5/resourceGroups/core_network/providers/Microsoft.Network/expressRouteCircuits/LabsExpressRoute",
            "express_route_gateway_bypass": false,
            "id": "/subscriptions/4312dfc3-8ec3-49c4-b95e-90a248341dd5/resourceGroups/core_network/providers/Microsoft.Network/connections/er-gw-to-er",
            "ipsec_policy": [],
            "local_network_gateway_id": null,
            "location": "westeurope",
            "name": "er-gw-to-er",
            "peer_virtual_network_gateway_id": null,
            "resource_group_name": "core_network",
            "routing_weight": 0,
            "shared_key": null,
            "tags": {},
            "type": "ExpressRoute",
            "use_policy_based_traffic_selectors": false,
            "virtual_network_gateway_id": "/subscriptions/4312dfc3-8ec3-49c4-b95e-90a248341dd5/resourceGroups/core_network/providers/Microsoft.Network/virtualNetworkGateways/nw-hub-er-gw"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "azurerm_express_route_circuit.main",
            "azurerm_express_route_circuit_authorization.er-to-er-gw",
            "azurerm_public_ip.public-er-gw",
            "azurerm_resource_group.core_network",
            "azurerm_subnet.GatewaySubnet",
            "azurerm_virtual_network.core_vnet",
            "azurerm_virtual_network_gateway.nv-hub-er-gw"
          ]
        }
      ]
    }
  ]
}

